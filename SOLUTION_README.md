# äº•å­—æ£‹VIPERè®­ç»ƒé—®é¢˜è¯Šæ–­ä¸è§£å†³æ–¹æ¡ˆ

## é—®é¢˜è¯Šæ–­

### ä½ é‡åˆ°çš„é—®é¢˜

ä½ é€šè¿‡DQN+selfplayè®­ç»ƒäº†ä¸€ä¸ªä¼˜ç§€çš„ç¥ç»ç½‘ç»œï¼ˆä¸MinMaxå¹³æ‰‹ï¼‰ï¼Œç„¶åä½¿ç”¨VIPERæå–å†³ç­–æ ‘æ—¶é‡åˆ°ï¼š

1. **ç”¨MinMaxä½œä¸ºVIPERå¯¹æ‰‹** â†’ å†³ç­–æ ‘åªæœ‰5ä¸ªå¶å­èŠ‚ç‚¹ï¼ˆä¸¥é‡è¿‡æ‹Ÿåˆï¼‰
2. **ç”¨Random Playerä½œä¸ºVIPERå¯¹æ‰‹** â†’ å†³ç­–æ ‘æœ‰65ä¸ªèŠ‚ç‚¹ï¼Œä½†ä¸ç¥ç»ç½‘ç»œå¯¹æˆ˜æ—¶å…ˆåæ‰‹å„100%è·èƒœï¼ˆç­–ç•¥ä¸åŒ¹é…ï¼‰

### æ ¹æœ¬åŸå› åˆ†æ

#### é—®é¢˜1ï¼šMinMaxå¯¹æ‰‹å¯¼è‡´è¿‡æ‹Ÿåˆ

```
ç¥ç»ç½‘ç»œ(æœ€ä¼˜ç­–ç•¥) â†’ ä¸MinMaxå¯¹æˆ˜ â†’ åªäº§ç”Ÿæå°‘æ•°æœ€ä¼˜è·¯å¾„ â†’ VIPERåªçœ‹åˆ°å°‘æ•°çŠ¶æ€ â†’ å†³ç­–æ ‘è¿‡æ‹Ÿåˆ
```

**ä¸ºä»€ä¹ˆåªæœ‰5ä¸ªå¶å­ï¼Ÿ**
- MinMaxæ˜¯å®Œç¾ç­–ç•¥ï¼Œä¸ä½ çš„ç¥ç»ç½‘ç»œå¯¹æˆ˜äº§ç”Ÿçš„çŠ¶æ€ç©ºé—´æå°
- äº•å­—æ£‹ä¸å®Œç¾å¯¹æ‰‹å¯¹æˆ˜ï¼Œå‡ ä¹æ¯æ¬¡éƒ½æ˜¯ç›¸åŒçš„å‡ ç§æœ€ä¼˜èµ°æ³•
- VIPERé‡‡æ ·æ—¶åªçœ‹åˆ°è¿™äº›"æœ€ä¼˜è·¯å¾„"ï¼Œä¸éœ€è¦å­¦ä¹ å¦‚ä½•åº”å¯¹å…¶ä»–æƒ…å†µ
- å†³ç­–æ ‘ç”¨5ä¸ªèŠ‚ç‚¹å°±èƒ½å®Œç¾æ‹Ÿåˆè¿™äº›å°‘é‡çš„æœ€ä¼˜è·¯å¾„

**æœ¬è´¨**ï¼šæ•°æ®åˆ†å¸ƒè¿‡çª„ï¼ˆunder-coverageï¼‰

#### é—®é¢˜2ï¼šRandomå¯¹æ‰‹å¯¼è‡´ç­–ç•¥ä¸åŒ¹é…

```
ç¥ç»ç½‘ç»œ(æœ€ä¼˜ç­–ç•¥) â†’ è®­ç»ƒæ—¶å¯¹æ‰‹æ˜¯selfplay
VIPERé‡‡æ · â†’ å¯¹æ‰‹æ˜¯random â†’ å­¦åˆ°"å¦‚ä½•æ‰“è´¥éšæœºç©å®¶" â‰  "ç¥ç»ç½‘ç»œçš„æœ€ä¼˜ç­–ç•¥"
```

**ä¸ºä»€ä¹ˆå…ˆåæ‰‹å„100%è·èƒœï¼Ÿ**
- ä½ çš„ç¥ç»ç½‘ç»œå­¦åˆ°äº†æœ€ä¼˜ç­–ç•¥ï¼ˆselfplayè®­ç»ƒï¼‰
- VIPERå†³ç­–æ ‘å­¦åˆ°äº†åº”å¯¹éšæœºç©å®¶çš„ç­–ç•¥
- ä¸¤ç§ç­–ç•¥å®Œå…¨ä¸åŒï¼
- åœ¨äº•å­—æ£‹ä¸­ï¼Œå…ˆæ‰‹æœ‰ä¼˜åŠ¿ï¼Œå½“åŒæ–¹ç­–ç•¥éƒ½ä¸å®Œç¾æ—¶ï¼Œå…ˆæ‰‹èƒ½è½»æ˜“è·èƒœ

**æœ¬è´¨**ï¼šè®­ç»ƒåˆ†å¸ƒä¸ç›®æ ‡åˆ†å¸ƒä¸åŒ¹é…ï¼ˆdistribution mismatchï¼‰

## è§£å†³æ–¹æ¡ˆ

### æ ¸å¿ƒæ€è·¯

VIPERéœ€è¦å­¦ä¹ çš„æ˜¯**ç¥ç»ç½‘ç»œçš„ç­–ç•¥æœ¬èº«**ï¼Œè€Œä¸æ˜¯"å¯¹æŠ—æŸç§ç‰¹å®šå¯¹æ‰‹"ã€‚å…³é”®æ˜¯ï¼š

1. **å¹³è¡¡æ•°æ®è¦†ç›–åº¦ä¸ç­–ç•¥è´¨é‡**
2. **ä½¿ç”¨æ··åˆé‡‡æ ·ç­–ç•¥**
3. **é€šè¿‡æ•°æ®å¢å¼ºæ‰©å±•çŠ¶æ€è¦†ç›–**

### æ–¹æ¡ˆ1ï¼šæ··åˆå¯¹æ‰‹ç­–ç•¥ï¼ˆæ¨èï¼‰â­â­â­â­â­

ä½¿ç”¨**ç¥ç»ç½‘ç»œè‡ªèº«ä½œä¸ºå¯¹æ‰‹ + é€‚åº¦éšæœºæ¢ç´¢**ï¼š

```python
# åœ¨VIPERé‡‡æ ·æ—¶ï¼š
beta = 0.5               # 50%æ—¶é—´è·ŸéšOracle(ç¥ç»ç½‘ç»œ)
epsilon_random = 0.2     # 20%æ—¶é—´éšæœºæ¢ç´¢
# å…¶ä½™30%æ—¶é—´ä½¿ç”¨å½“å‰å†³ç­–æ ‘ç­–ç•¥

# å¹¶ä¸”åŠ¨æ€è°ƒæ•´ï¼š
è¿­ä»£1: beta=1.0, epsilon=0.0    # åˆæœŸå®Œå…¨æ¨¡ä»¿
è¿­ä»£N: beta=0.3, epsilon=0.3    # åæœŸå¢åŠ æ¢ç´¢
```

**ä¸ºä»€ä¹ˆæœ‰æ•ˆï¼Ÿ**
- ç¥ç»ç½‘ç»œè‡ªå·±ä½œå¯¹æ‰‹ â†’ æ¨¡æ‹ŸçœŸå®å¯¹æˆ˜åœºæ™¯ â†’ å­¦åˆ°ç¥ç»ç½‘ç»œçš„çœŸå®ç­–ç•¥
- éšæœºæ¢ç´¢ â†’ ä¿è¯çŠ¶æ€è¦†ç›–åº¦ â†’ é¿å…è¿‡æ‹Ÿåˆ
- åŠ¨æ€å¹³è¡¡ â†’ åˆæœŸå­¦ä¹ æœ€ä¼˜è·¯å¾„ï¼ŒåæœŸå®Œå–„è¾¹ç¼˜æƒ…å†µ

### æ–¹æ¡ˆ2ï¼šæ•°æ®å¢å¼ºï¼ˆäº•å­—æ£‹ä¸“ç”¨ï¼‰â­â­â­â­â­

åˆ©ç”¨äº•å­—æ£‹çš„**å¯¹ç§°æ€§**æ‰©å±•æ•°æ®ï¼š

```python
# åŸå§‹çŠ¶æ€:
X . .
. O .
. . .

# å¯ä»¥é€šè¿‡æ—‹è½¬/ç¿»è½¬ç”Ÿæˆ8ä¸ªç­‰ä»·çŠ¶æ€
# è¿™æ ·æ¯ä¸ªæ ·æœ¬å¯ä»¥æ‰©å±•8å€ï¼
```

**ä¼˜åŠ¿**ï¼š
- å¤§å¹…å¢åŠ æ•°æ®é‡ï¼ˆ8å€ï¼‰
- ä¸éœ€è¦é¢å¤–é‡‡æ ·
- ä¿æŒç­–ç•¥ä¸€è‡´æ€§

### æ–¹æ¡ˆ3ï¼šè°ƒæ•´å†³ç­–æ ‘å‚æ•°â­â­â­

```python
DecisionTreeClassifier(
    ccp_alpha=0.001,           # å¢åŠ å¤æ‚åº¦æƒ©ç½šï¼ˆé˜²æ­¢è¿‡æ‹Ÿåˆï¼‰
    min_samples_split=10,      # å¢åŠ åˆ†è£‚é—¨æ§›
    min_samples_leaf=5,        # å¢åŠ å¶å­èŠ‚ç‚¹æ ·æœ¬æ•°
    max_depth=10,              # é™åˆ¶æ·±åº¦
    max_leaf_nodes=50          # æ§åˆ¶èŠ‚ç‚¹æ•°åœ¨åˆç†èŒƒå›´
)
```

## å®æ–½æŒ‡å—

### æ­¥éª¤1ï¼šä½¿ç”¨æ”¹è¿›çš„è®­ç»ƒè„šæœ¬

æˆ‘å·²ç»ä¸ºä½ åˆ›å»ºäº† `train_viper_improved.py`ï¼Œå®ƒåŒ…å«äº†ä¸Šè¿°æ‰€æœ‰æ”¹è¿›ã€‚

#### åŸºç¡€ç”¨æ³•

```bash
# ç¡®ä¿ä½ å·²ç»æœ‰äº†è®­ç»ƒå¥½çš„ç¥ç»ç½‘ç»œ
# ä½ç½®ï¼šlog/oracle_TicTacToe_selfplay.zip

# ä½¿ç”¨æ”¹è¿›çš„VIPERè®­ç»ƒï¼ˆæ¨èé…ç½®ï¼‰
python train_viper_improved.py \
  --env-name TicTacToe-v0 \
  --oracle-path log/oracle_TicTacToe_selfplay.zip \
  --n-iter 80 \
  --total-timesteps 100000 \
  --max-leaves 50 \
  --max-depth 10 \
  --use-augmentation \
  --exploration-strategy decay \
  --ccp-alpha 0.001 \
  --min-samples-split 10 \
  --min-samples-leaf 5 \
  --verbose 1
```

#### å‚æ•°è¯´æ˜

**æ ¸å¿ƒå‚æ•°**ï¼š
- `--exploration-strategy`: æ¢ç´¢ç­–ç•¥
  - `decay`ï¼ˆæ¨èï¼‰ï¼šæ¸è¿›å¼æ¢ç´¢ï¼Œä»å®Œå…¨æ¨¡ä»¿åˆ°å¢åŠ æ¢ç´¢
  - `constant`ï¼šå›ºå®šæ¯”ä¾‹æ¢ç´¢
  - `original`ï¼šæ ‡å‡†VIPERï¼ˆä¸æ¨èï¼‰

- `--use-augmentation`ï¼šå¯ç”¨æ•°æ®å¢å¼ºï¼ˆå¼ºçƒˆæ¨èï¼‰

**å†³ç­–æ ‘å‚æ•°**ï¼š
- `--max-leaves 50`ï¼šæ§åˆ¶æ ‘çš„è§„æ¨¡ï¼ˆ20-100ä¹‹é—´ï¼‰
- `--max-depth 10`ï¼šæ§åˆ¶æ ‘çš„æ·±åº¦ï¼ˆ8-15ä¹‹é—´ï¼‰
- `--ccp-alpha 0.001`ï¼šå¤æ‚åº¦æƒ©ç½šï¼ˆ0.0001-0.01ï¼‰
- `--min-samples-split 10`ï¼šåˆ†è£‚é—¨æ§›ï¼ˆ5-20ï¼‰
- `--min-samples-leaf 5`ï¼šå¶å­æ ·æœ¬æ•°ï¼ˆ3-10ï¼‰

### æ­¥éª¤2ï¼šè®­ç»ƒå¹¶è¯„ä¼°

```bash
# 1. è®­ç»ƒæ”¹è¿›çš„å†³ç­–æ ‘
python train_viper_improved.py \
  --env-name TicTacToe-v0 \
  --oracle-path log/oracle_TicTacToe_selfplay.zip \
  --n-iter 80 \
  --total-timesteps 100000 \
  --max-leaves 50 \
  --exploration-strategy decay \
  --use-augmentation \
  --verbose 1

# 2. å¯¹æˆ˜æµ‹è¯•ï¼ˆä½¿ç”¨ä½ å·²æœ‰çš„è„šæœ¬ï¼‰
python battle_nn_vs_tree.py \
  --oracle-path log/oracle_TicTacToe_selfplay.zip \
  --viper-path log/viper_TicTacToe-v0_all-leaves_50.joblib \
  --mode all \
  --n-games 200

# 3. åˆ†æå†³ç­–æ ‘
python export_tree_text.py \
  --tree-path log/viper_TicTacToe-v0_all-leaves_50.joblib
```

### æ­¥éª¤3ï¼šé¢„æœŸç»“æœ

**å¥½çš„ç»“æœåº”è¯¥æ˜¯**ï¼š
- å†³ç­–æ ‘èŠ‚ç‚¹æ•°ï¼š20-60ä¸ªï¼ˆæ—¢ä¸è¿‡å°‘ä¹Ÿä¸è¿‡å¤šï¼‰
- ç¥ç»ç½‘ç»œ vs å†³ç­–æ ‘ï¼šå¹³å±€ç‡ > 60%ï¼ˆç­–ç•¥ä¸€è‡´ï¼‰
- å†³ç­–æ ‘ vs MinMaxï¼šå¹³å±€ç‡ > 40%ï¼ˆå­¦åˆ°äº†åˆç†ç­–ç•¥ï¼‰
- å…ˆåæ‰‹è·èƒœä¸åº”è¯¥æ˜¯100% vs 0%

**å¦‚æœç»“æœä¸ç†æƒ³**ï¼š

1. **å¹³å±€ç‡å¤ªä½ï¼ˆç­–ç•¥å·®å¼‚å¤§ï¼‰**ï¼š
   - å¢åŠ  `--n-iter`ï¼ˆæ›´å¤šè¿­ä»£ï¼‰
   - å‡å°‘ `exploration_strategy` ä¸­çš„éšæœºæ¢ç´¢
   - å¢åŠ æ•°æ®é‡ `--total-timesteps`

2. **å†³ç­–æ ‘å¤ªå°ï¼ˆ<10èŠ‚ç‚¹ï¼‰**ï¼š
   - å‡å°‘ `--ccp-alpha`
   - å‡å°‘ `--min-samples-split` å’Œ `--min-samples-leaf`
   - å¢åŠ æ¢ç´¢ç‡

3. **å†³ç­–æ ‘å¤ªå¤§ï¼ˆ>100èŠ‚ç‚¹ï¼‰**ï¼š
   - å¢åŠ  `--ccp-alpha`
   - å‡å°‘ `--max-leaves`
   - å¢åŠ æ­£åˆ™åŒ–å‚æ•°

## è¿›é˜¶æŠ€å·§

### æŠ€å·§1ï¼šåˆ†é˜¶æ®µè®­ç»ƒ

```bash
# é˜¶æ®µ1ï¼šå­¦ä¹ ä¸»è¦ç­–ç•¥ï¼ˆä½æ¢ç´¢ï¼‰
python train_viper_improved.py \
  --n-iter 40 \
  --exploration-strategy constant \
  --total-timesteps 50000

# é˜¶æ®µ2ï¼šç²¾ç»†åŒ–ï¼ˆå¢åŠ æ¢ç´¢ï¼‰
python train_viper_improved.py \
  --n-iter 40 \
  --exploration-strategy decay \
  --total-timesteps 50000 \
  --oracle-path log/viper_stage1.joblib  # ä»é˜¶æ®µ1ç»§ç»­
```

### æŠ€å·§2ï¼šé›†æˆå¤šæ£µæ ‘

å¦‚æœå•æ£µæ ‘æ— æ³•è¾¾åˆ°æ»¡æ„æ•ˆæœï¼Œå¯ä»¥è€ƒè™‘Random Forestï¼š

```python
from sklearn.ensemble import RandomForestClassifier

clf = RandomForestClassifier(
    n_estimators=5,           # 5æ£µæ ‘
    max_depth=8,              # æ¯æ£µæ ‘æ·±åº¦é™åˆ¶
    max_leaf_nodes=30,        # æ¯æ£µæ ‘èŠ‚ç‚¹é™åˆ¶
    criterion='entropy'
)
```

### æŠ€å·§3ï¼šè°ƒè¯•æŠ€å·§

```bash
# æŸ¥çœ‹è®­ç»ƒè¿‡ç¨‹ä¸­çš„çŠ¶æ€è¦†ç›–åº¦
python train_viper_improved.py --verbose 2

# å¯è§†åŒ–å†³ç­–æ ‘
python export_tree_json.py --tree-path <path>

# åˆ†æç‰¹å®šå¯¹å±€
python battle_nn_vs_tree.py --verbose --n-games 10
```

## ç†è®ºè§£é‡Š

### ä¸ºä»€ä¹ˆVIPERä¼šå¤±è´¥ï¼Ÿ

VIPERçš„æ ¸å¿ƒå‡è®¾ï¼š**é€šè¿‡æ¨¡ä»¿Oracleåœ¨å„ç§çŠ¶æ€ä¸‹çš„åŠ¨ä½œï¼Œå­¦ä¹ åˆ°Oracleçš„ç­–ç•¥**

è¿™ä¸ªå‡è®¾åœ¨ä»¥ä¸‹æƒ…å†µä¼šå¤±è´¥ï¼š

1. **é‡‡æ ·åˆ†å¸ƒåå·®**ï¼šåªçœ‹åˆ°ç‰¹å®šå¯¹æ‰‹äº§ç”Ÿçš„çŠ¶æ€ â†’ å†³ç­–æ ‘åœ¨å…¶ä»–çŠ¶æ€ä¸‹ä¸çŸ¥é“æ€ä¹ˆåš
2. **è¿‡æ‹Ÿåˆå°‘é‡è·¯å¾„**ï¼šå®Œç¾å¯¹æ‰‹äº§ç”Ÿçš„çŠ¶æ€å¤ªå°‘ â†’ å†³ç­–æ ‘è®°ä½äº†è¿™äº›è·¯å¾„ä½†æ²¡æœ‰æ³›åŒ–èƒ½åŠ›
3. **ç­–ç•¥ä¸ä¸€è‡´**ï¼šé‡‡æ ·æ—¶çš„å¯¹æ‰‹ç­–ç•¥ â‰  Oracleçš„è®­ç»ƒå¯¹æ‰‹ â†’ å­¦åˆ°äº†é”™è¯¯çš„ç­–ç•¥

### ä¸ºä»€ä¹ˆæ··åˆç­–ç•¥æœ‰æ•ˆï¼Ÿ

```
ç¥ç»ç½‘ç»œç­–ç•¥ = åœ¨selfplayç¯å¢ƒä¸‹çš„æœ€ä¼˜å“åº”

VIPERç›®æ ‡ = å­¦ä¹ ç¥ç»ç½‘ç»œç­–ç•¥

æ­£ç¡®åšæ³• = æ¨¡æ‹Ÿç¥ç»ç½‘ç»œçš„çœŸå®ä½¿ç”¨åœºæ™¯
         = ç¥ç»ç½‘ç»œ vs ç¥ç»ç½‘ç»œè‡ªå·±ï¼ˆselfplayï¼‰
         + é€‚åº¦éšæœºæ¢ç´¢ï¼ˆè¦†ç›–è¾¹ç¼˜æƒ…å†µï¼‰
```

### æ•°å­¦ç›´è§‰

åŸå§‹VIPERä¼˜åŒ–ç›®æ ‡ï¼š
```
min E_{s~d^Ï€}[ Loss(Ï€_tree(s), Ï€_oracle(s)) ]
```
å…¶ä¸­ `d^Ï€` æ˜¯ç­–ç•¥Ï€äº§ç”Ÿçš„çŠ¶æ€åˆ†å¸ƒ

é—®é¢˜ï¼šå¦‚æœ `d^Ï€` ä¸çœŸå®åœºæ™¯ä¸åŒ¹é…ï¼Œå­¦åˆ°çš„Ï€_treeå°±ä¼šæœ‰åå·®

æ”¹è¿›æ–¹æ¡ˆï¼š
```
d^Ï€ â‰ˆ d^{selfplay}  # é€šè¿‡è®©Oracleä¸è‡ªå·±å¯¹æˆ˜
+ æ¢ç´¢é¡¹          # é€šè¿‡éšæœºæ¢ç´¢è¦†ç›–æ›´å¤šçŠ¶æ€
```

## å¸¸è§é—®é¢˜

### Q1: ä¸ºä»€ä¹ˆä¸ç›´æ¥ç”¨MinMaxä½œä¸ºOracleï¼Ÿ

A: MinMaxæ˜¯å®Œç¾ç­–ç•¥ï¼Œä½†ï¼š
- æ— æ³•æä¾›"å­¦ä¹ ä¿¡å·"ï¼ˆQå€¼å·®å¼‚ï¼‰
- äº§ç”Ÿçš„çŠ¶æ€åˆ†å¸ƒæçª„
- VIPERéœ€è¦çš„æ˜¯ä¸€ä¸ª"å¯æ¨¡ä»¿çš„"ç­–ç•¥ï¼Œè€Œä¸æ˜¯"å®Œç¾çš„"ç­–ç•¥

### Q2: æ•°æ®å¢å¼ºä¼šä¸ä¼šæ”¹å˜ç­–ç•¥ï¼Ÿ

A: ä¸ä¼šã€‚äº•å­—æ£‹çš„å¯¹ç§°æ€§æ˜¯æ¸¸æˆçš„å›ºæœ‰å±æ€§ï¼š
- æ—‹è½¬åçš„æ£‹å±€æœ¬è´¨ä¸Šæ˜¯ç›¸åŒçš„
- æœ€ä¼˜ç­–ç•¥åœ¨å¯¹ç§°å˜æ¢ä¸‹ä¿æŒä¸€è‡´
- è¿™åªæ˜¯è®©æ¨¡å‹å­¦åˆ°è¿™ç§å¯¹ç§°æ€§

### Q3: ä¸ºä»€ä¹ˆéœ€è¦é‚£ä¹ˆå¤šè¿­ä»£(80æ¬¡)ï¼Ÿ

A: VIPERæ˜¯è¿­ä»£ç®—æ³•ï¼š
- æ¯æ¬¡è¿­ä»£ï¼Œå†³ç­–æ ‘ä¼šæ”¹è¿›
- ç”¨æ”¹è¿›çš„å†³ç­–æ ‘é‡‡æ ·æ–°æ•°æ®
- æ–°æ•°æ®å¸®åŠ©è¿›ä¸€æ­¥æ”¹è¿›å†³ç­–æ ‘
- 80æ¬¡è¿­ä»£æ˜¯ç»éªŒå€¼ï¼Œå¯ä»¥æ ¹æ®æ”¶æ•›æƒ…å†µè°ƒæ•´

### Q4: æˆ‘èƒ½ç›´æ¥ç”¨è¿™ä¸ªè„šæœ¬è®­ç»ƒå…¶ä»–æ¸¸æˆå—ï¼Ÿ

A: éƒ¨åˆ†å¯ä»¥ï¼š
- æ•°æ®å¢å¼ºéƒ¨åˆ†åªé€‚ç”¨äºäº•å­—æ£‹ï¼ˆéœ€è¦æ ¹æ®æ¸¸æˆé‡æ–°è®¾è®¡å¯¹ç§°æ€§ï¼‰
- æ··åˆé‡‡æ ·ç­–ç•¥æ˜¯é€šç”¨çš„
- å†³ç­–æ ‘å‚æ•°éœ€è¦æ ¹æ®æ¸¸æˆçŠ¶æ€ç©ºé—´è°ƒæ•´

## æ€»ç»“

### å…³é”®è¦ç‚¹

1. â­ **å¯¹æ‰‹é€‰æ‹©å¾ˆå…³é”®**ï¼šåº”è¯¥ä½¿ç”¨ç¥ç»ç½‘ç»œè‡ªå·±ï¼ˆselfplayï¼‰+ éšæœºæ¢ç´¢
2. â­ **æ•°æ®å¢å¼ºèƒ½æå¤§æå‡æ•ˆæœ**ï¼ˆäº•å­—æ£‹å¯ç”¨8å€æ•°æ®ï¼‰
3. â­ **åŠ¨æ€è°ƒæ•´æ¢ç´¢ç‡**ï¼šä»æ¨¡ä»¿åˆ°æ¢ç´¢çš„æ¸è¿›è¿‡ç¨‹
4. â­ **ç›‘æ§å†³ç­–æ ‘å¤æ‚åº¦**ï¼šé¿å…è¿‡æ‹Ÿåˆå’Œæ¬ æ‹Ÿåˆ

### æ¨èé…ç½®

```bash
python train_viper_improved.py \
  --env-name TicTacToe-v0 \
  --oracle-path log/oracle_TicTacToe_selfplay.zip \
  --n-iter 80 \
  --total-timesteps 100000 \
  --max-leaves 50 \
  --max-depth 10 \
  --use-augmentation \
  --exploration-strategy decay \
  --ccp-alpha 0.001 \
  --min-samples-split 10 \
  --min-samples-leaf 5 \
  --verbose 1
```

### é¢„æœŸæ”¹è¿›

- âŒ æ—§æ–¹æ³•(MinMaxå¯¹æ‰‹)ï¼š5ä¸ªèŠ‚ç‚¹ï¼Œè¿‡æ‹Ÿåˆ
- âŒ æ—§æ–¹æ³•(Randomå¯¹æ‰‹)ï¼š65ä¸ªèŠ‚ç‚¹ï¼Œç­–ç•¥ä¸åŒ¹é…ï¼Œå…ˆåæ‰‹100% vs 0%
- âœ… æ–°æ–¹æ³•(æ··åˆç­–ç•¥)ï¼š20-50ä¸ªèŠ‚ç‚¹ï¼Œå¹³å±€ç‡>60%ï¼Œç­–ç•¥ä¸€è‡´

## éœ€è¦å¸®åŠ©ï¼Ÿ

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š
1. Oracleæ¨¡å‹è·¯å¾„æ˜¯å¦æ­£ç¡®
2. ç¯å¢ƒæ³¨å†Œæ˜¯å¦æ­£ç¡®ï¼ˆTicTacToe-v0ï¼‰
3. æŸ¥çœ‹è®­ç»ƒæ—¥å¿—ä¸­çš„çŠ¶æ€è¦†ç›–åº¦å’Œæ ‘çš„å¤æ‚åº¦
4. å°è¯•ä¸åŒçš„å‚æ•°ç»„åˆ

ç¥è®­ç»ƒé¡ºåˆ©ï¼ğŸ‰
